{"ast":null,"code":"// src/services/api.js\nimport axios from 'axios';\nconst api = axios.create({\n  baseURL: 'http://localhost:8080',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// ================== Orders API ==================\nexport const getOrders = () => api.get('/orders').then(res => res.data);\nexport const getOrderById = id => api.get(`/orders/${id}`).then(res => res.data);\nexport const getOrdersByUser = userId => api.get(`/orders/user/${userId}`).then(res => res.data);\nexport const createOrder = order => api.post('/orders', order).then(res => res.data);\nexport const createBulkOrders = orders => api.post('/orders/bulk', orders).then(res => res.data);\nexport const updateOrderStatus = (id, status) => api.put(`/orders/${id}/status?status=${status}`).then(res => res.data);\nexport const deleteOrder = id => api.delete(`/orders/${id}`);\n\n// ================== Products API ==================\nexport const getProducts = () => api.get('/products/all').then(res => res.data);\nexport const getProductById = id => api.get(`/products/${id}`).then(res => res.data);\nexport const searchProducts = params => api.get('/products', {\n  params\n}).then(res => res.data);\nexport const searchProductsJPQL = params => api.get('/products/', {\n  params\n}).then(res => res.data);\nexport const createProduct = product => api.post('/products', product).then(res => res.data);\nexport const updateProduct = (id, product) => api.put(`/products/${id}`, product).then(res => res.data);\nexport const deleteProduct = id => api.delete(`/products/${id}`);\n\n// ================== Users API ==================\nexport const getUsers = () => api.get('/users').then(res => res.data);\nexport const getUserById = id => api.get(`/users/${id}`).then(res => res.data);\nexport const createUser = user => api.post('/users', user).then(res => res.data);\nexport const updateUser = (id, user) => api.put(`/users/${id}`, user).then(res => res.data);\nexport const deleteUser = id => api.delete(`/users/${id}`);\n\n// ================== Advanced Methods ==================\nexport const getProductsWithFilters = async (filters = {}) => {\n  const params = {\n    title: filters.title || undefined,\n    price: filters.price || undefined,\n    city: filters.city || undefined,\n    author: filters.author || undefined,\n    orderStatus: filters.orderStatus || undefined\n  };\n  return api.get('/products', {\n    params\n  }).then(res => res.data);\n};\nexport const getOrdersWithDetails = async () => {\n  const [orders, users, products] = await Promise.all([getOrders(), getUsers(), getProducts()]);\n  return orders.map(order => ({\n    ...order,\n    user: users.find(u => u.id === order.userId),\n    products: products.filter(p => order.productIds.includes(p.id))\n  }));\n};\n\n// Добавляем перехватчик ошибок\napi.interceptors.response.use(response => response, error => {\n  console.error('API Error:', error);\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","headers","getOrders","get","then","res","data","getOrderById","id","getOrdersByUser","userId","createOrder","order","post","createBulkOrders","orders","updateOrderStatus","status","put","deleteOrder","delete","getProducts","getProductById","searchProducts","params","searchProductsJPQL","createProduct","product","updateProduct","deleteProduct","getUsers","getUserById","createUser","user","updateUser","deleteUser","getProductsWithFilters","filters","title","undefined","price","city","author","orderStatus","getOrdersWithDetails","users","products","Promise","all","map","find","u","filter","p","productIds","includes","interceptors","response","use","error","console","reject"],"sources":["C:/Users/kevra/IdeaProjects/BUYSELL_application/src/main/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\r\nimport axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'http://localhost:8080',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\n// ================== Orders API ==================\r\nexport const getOrders = () => api.get('/orders').then(res => res.data);\r\nexport const getOrderById = (id) => api.get(`/orders/${id}`).then(res => res.data);\r\nexport const getOrdersByUser = (userId) => api.get(`/orders/user/${userId}`).then(res => res.data);\r\nexport const createOrder = (order) => api.post('/orders', order).then(res => res.data);\r\nexport const createBulkOrders = (orders) => api.post('/orders/bulk', orders).then(res => res.data);\r\nexport const updateOrderStatus = (id, status) =>\r\n    api.put(`/orders/${id}/status?status=${status}`).then(res => res.data);\r\nexport const deleteOrder = (id) => api.delete(`/orders/${id}`);\r\n\r\n// ================== Products API ==================\r\nexport const getProducts = () => api.get('/products/all').then(res => res.data);\r\nexport const getProductById = (id) => api.get(`/products/${id}`).then(res => res.data);\r\nexport const searchProducts = (params) =>\r\n    api.get('/products', { params }).then(res => res.data);\r\nexport const searchProductsJPQL = (params) =>\r\n    api.get('/products/', { params }).then(res => res.data);\r\nexport const createProduct = (product) => api.post('/products', product).then(res => res.data);\r\nexport const updateProduct = (id, product) =>\r\n    api.put(`/products/${id}`, product).then(res => res.data);\r\nexport const deleteProduct = (id) => api.delete(`/products/${id}`);\r\n\r\n// ================== Users API ==================\r\nexport const getUsers = () => api.get('/users').then(res => res.data);\r\nexport const getUserById = (id) => api.get(`/users/${id}`).then(res => res.data);\r\nexport const createUser = (user) => api.post('/users', user).then(res => res.data);\r\nexport const updateUser = (id, user) => api.put(`/users/${id}`, user).then(res => res.data);\r\nexport const deleteUser = (id) => api.delete(`/users/${id}`);\r\n\r\n// ================== Advanced Methods ==================\r\nexport const getProductsWithFilters = async (filters = {}) => {\r\n    const params = {\r\n        title: filters.title || undefined,\r\n        price: filters.price || undefined,\r\n        city: filters.city || undefined,\r\n        author: filters.author || undefined,\r\n        orderStatus: filters.orderStatus || undefined\r\n    };\r\n    return api.get('/products', { params }).then(res => res.data);\r\n};\r\n\r\nexport const getOrdersWithDetails = async () => {\r\n    const [orders, users, products] = await Promise.all([\r\n        getOrders(),\r\n        getUsers(),\r\n        getProducts()\r\n    ]);\r\n\r\n    return orders.map(order => ({\r\n        ...order,\r\n        user: users.find(u => u.id === order.userId),\r\n        products: products.filter(p => order.productIds.includes(p.id))\r\n    }));\r\n};\r\n\r\n// Добавляем перехватчик ошибок\r\napi.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n        console.error('API Error:', error);\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}